<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue-watch</title>
    <script type="text/javascript" src="../js/vue.js"></script>
</head>
<body>
    <div id="root">
        <!-- 
        深度監視:
            1.Vue中的監視屬性watch只能監視到一層屬性的變化，如果屬性是物件，則無法監視到物件內部屬性的變化
            2.如果要監視到物件內部屬性的變化，需要使用deep:true
        深度監視的注意事項: 
            . 如果監視的屬性是物件，那麼在使用deep:true的時候，監視的屬性必須是一個新的物件，不能是舊的物件
        -->
    
        <h2>numbers.a: {{numbers.a}}</h2>
        <button @click="numbers.a++">點我a+1</button>
        <h2>numbers.b: {{numbers.b}}</h2>
        <button @click="numbers.b++">點我a+2</button>
        <button @click="numbers ={a:6666,b:8888}">換掉numbers</button>
    </div>
</body>
<script>
    Vue.config.productionTip = false //阻止Vue在啟動時生成生產提示
    new Vue({
        el: '#root',
        data() {
            return {
                isHot: true,
                numbers: {
                    a: 1,
                    b: 2
                }
            }
        },
        computed: {},
        methods: {},
        watch: {
            numbers: {
                deep: true,
                handler(newVal, oldVal) {
                    console.log('numbers被監視到了', newVal, oldVal)
                }
            }
        }
    })
</script>

</html>